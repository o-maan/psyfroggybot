# üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –õ—è–≥—É—à–∫–∞ –í–°–ï–ì–î–ê –º—É–∂—Å–∫–æ–≥–æ —Ä–æ–¥–∞

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–µ—Å—Å–∏–∏ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê:

Regex –ø—Ä–∞–≤–∏–ª–∞ –≤ `src/utils/gender-adapter.ts` –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–ª–∏ –≥–ª–∞–≥–æ–ª—ã –ë–ï–ó —É—á–µ—Ç–∞ —Ç–æ–≥–æ, –∫—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç - –ª—è–≥—É—à–∫–∞ ("—è") –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ("—Ç—ã"). –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ —Ç–æ–º—É, —á—Ç–æ –ª—è–≥—É—à–∫–∞ –Ω–∞—á–∏–Ω–∞–ª–∞ –≥–æ–≤–æ—Ä–∏—Ç—å –≤ –∂–µ–Ω—Å–∫–æ–º —Ä–æ–¥–µ:

‚ùå **–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:**
- "–Ø –≤—á–µ—Ä–∞ —Ç–∞–∫ –¥–æ–ª–≥–æ –∂–¥–∞–ª —Ç–≤–æ–π –æ—Ç–≤–µ—Ç, —á—Ç–æ **—É—Å–ø–µ–ª–∞** –Ω–∞–ø–∏—Å–∞—Ç—å –∞–≤—Ç–æ–±–∏–æ–≥—Ä–∞—Ñ–∏—é"
- "–í—á–µ—Ä–∞ –±–µ–∑ —Ç–≤–æ–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ —è —Ç–∞–∫ **–∑–∞—Å–∫—É—á–∞–ª–∞**, —á—Ç–æ –Ω–∞—á–∞–ª–∞ —É—á–∏—Ç—å—Å—è"

‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û:**
- "–Ø –≤—á–µ—Ä–∞ —Ç–∞–∫ –¥–æ–ª–≥–æ –∂–¥–∞–ª —Ç–≤–æ–π –æ—Ç–≤–µ—Ç, —á—Ç–æ **—É—Å–ø–µ–ª** –Ω–∞–ø–∏—Å–∞—Ç—å –∞–≤—Ç–æ–±–∏–æ–≥—Ä–∞—Ñ–∏—é"
- "–í—á–µ—Ä–∞ –±–µ–∑ —Ç–≤–æ–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ —è —Ç–∞–∫ **–∑–∞—Å–∫—É—á–∞–ª**, —á—Ç–æ –Ω–∞—á–∞–ª —É—á–∏—Ç—å—Å—è"

## –ü—Ä–∏—á–∏–Ω–∞

–ü—Ä–∞–≤–∏–ª–∞ –Ω–∞ —Å—Ç—Ä–æ–∫–∞—Ö 147-172 –≤ `gender-adapter.ts` –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–ª–∏ –≥–ª–∞–≥–æ–ª—ã –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º:
- `(—á—Ç–æ|–µ—â–µ|—Ç–∞–∫|–æ—á–µ–Ω—å|–ø–æ–¥—Ä–æ–±–Ω–æ|—Ö–æ—Ä–æ—à–æ|–æ—Ç–ª–∏—á–Ω–æ)\s+([–∞-—è—ë]+)–∞–ª` ‚Üí "—Ç–∞–∫ –∑–∞—Å–∫—É—á–∞–ª" ‚Üí "—Ç–∞–∫ –∑–∞—Å–∫—É—á–∞–ª–∞" ‚ùå
- `([–ê-–Ø–Å])([–∞-—è—ë]+)–µ–ª` ‚Üí "–£—Å–ø–µ–ª" ‚Üí "–£—Å–ø–µ–ª–∞" ‚ùå
- `([–∞-—è—ë]+)—ã–≤–∞–ª` ‚Üí "–∏—Å–ø—ã—Ç—ã–≤–∞–ª" ‚Üí "–∏—Å–ø—ã—Ç—ã–≤–∞–ª–∞" ‚ùå

–≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –ù–ï –ø—Ä–æ–≤–µ—Ä—è–ª–∏, –∫—Ç–æ –ø–æ–¥–ª–µ–∂–∞—â–µ–µ - "—è" (–ª—è–≥—É—à–∫–∞) –∏–ª–∏ "—Ç—ã" (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å).

## –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `isFrogSpeaking(text: string, offset: number): boolean`, –∫–æ—Ç–æ—Ä–∞—è:

1. –ë–µ—Ä–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥ –≥–ª–∞–≥–æ–ª–æ–º (–¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤)
2. –ò—â–µ—Ç –ë–õ–ò–ñ–ê–ô–®–ï–ï –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ –∫ –≥–ª–∞–≥–æ–ª—É - "—è" –∏–ª–∏ "—Ç—ã"
3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true` –µ—Å–ª–∏ –Ω–∞—à–ª–∞ "—è" ‚Üí –≥–ª–∞–≥–æ–ª –ù–ï –º–µ–Ω—è–µ—Ç—Å—è (–ª—è–≥—É—à–∫–∞ –º—É–∂—Å–∫–æ–≥–æ —Ä–æ–¥–∞)
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `false` –µ—Å–ª–∏ –Ω–∞—à–ª–∞ "—Ç—ã" –∏–ª–∏ –Ω–∏—á–µ–≥–æ ‚Üí –≥–ª–∞–≥–æ–ª –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è

**–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã:**

```typescript
// "—è —Ç–∞–∫ –∑–∞—Å–∫—É—á–∞–ª" ‚Üí –±–ª–∏–∂–∞–π—à–µ–µ –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ "—è" ‚Üí –ù–ï –º–µ–Ω—è–µ–º
isFrogSpeaking("—è —Ç–∞–∫ –∑–∞—Å–∫—É—á–∞–ª", 7) // offset –≥–ª–∞–≥–æ–ª–∞ "–∑–∞—Å–∫—É—á–∞–ª"
‚Üí true ‚Üí "–∑–∞—Å–∫—É—á–∞–ª" –æ—Å—Ç–∞–µ—Ç—Å—è "–∑–∞—Å–∫—É—á–∞–ª" ‚úÖ

// "–í—á–µ—Ä–∞ —Ç—ã –º–æ–ª—á–∞–ª, –∏ —è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª" ‚Üí –¥–ª—è "–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª" –±–ª–∏–∂–∞–π—à–µ–µ "—è"
isFrogSpeaking("–í—á–µ—Ä–∞ —Ç—ã –º–æ–ª—á–∞–ª, –∏ —è –æ—Ç –Ω–µ—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª", 38)
‚Üí true ‚Üí "–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª" –æ—Å—Ç–∞–µ—Ç—Å—è "–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª" ‚úÖ

// "–í—á–µ—Ä–∞ —Ç—ã –º–æ–ª—á–∞–ª" ‚Üí –±–ª–∏–∂–∞–π—à–µ–µ "—Ç—ã" ‚Üí –∞–¥–∞–ø—Ç–∏—Ä—É–µ–º
isFrogSpeaking("–í—á–µ—Ä–∞ —Ç—ã –º–æ–ª—á–∞–ª", 9)
‚Üí false ‚Üí "–º–æ–ª—á–∞–ª" ‚Üí "–º–æ–ª—á–∞–ª–∞" ‚úÖ
```

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### `src/utils/gender-adapter.ts`

1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è** `isFrogSpeaking()` (—Å—Ç—Ä–æ–∫–∏ 22-51)
2. **–û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ –≤—Å–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:
   - –°—Ç—Ä–æ–∫–∏ 132-143: –≥–ª–∞–≥–æ–ª—ã —Å –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ–º (–Ω–µ/–µ—â–µ –Ω–µ/–ø–æ–∫–∞ –Ω–µ + –≥–ª–∞–≥–æ–ª)
   - –°—Ç—Ä–æ–∫–∏ 147-158: –≥–ª–∞–≥–æ–ª—ã –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö (—á—Ç–æ/–µ—â–µ/—Ç–∞–∫ + –≥–ª–∞–≥–æ–ª)
   - –°—Ç—Ä–æ–∫–∏ 161-172: –≥–ª–∞–≥–æ–ª—ã —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã
   - –°—Ç—Ä–æ–∫–∏ 165-172: –≥–ª–∞–≥–æ–ª—ã –Ω–∞ -—ã–≤–∞–ª/-–∏–≤–∞–ª

### `test-gender-adaptation-full.ts`

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –Ω–∞ —Å—Ç—Ä–æ–∫–µ 18:
- –ë—ã–ª–æ: `'–í—á–µ—Ä–∞ —Ç—ã –º–æ–ª—á–∞–ª${:–∞}, –∏ —è –∑–∞—Å–∫—É—á–∞–ª${:–∞}'` ‚ùå
- –°—Ç–∞–ª–æ: `'–í—á–µ—Ä–∞ —Ç—ã –º–æ–ª—á–∞–ª${:–∞}, –∏ —è –∑–∞—Å–∫—É—á–∞–ª'` ‚úÖ

–í—Ç–æ—Ä–æ–π —à–∞–±–ª–æ–Ω `${:–∞}` –ø—Ä–∏–º–µ–Ω—è–ª—Å—è –∫ —Ä–µ—á–∏ –ª—è–≥—É—à–∫–∏ - —ç—Ç–æ –æ—à–∏–±–∫–∞.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:

### `test-frog-gender-fix.ts`
```typescript
const texts = [
  '–ó–Ω–∞–µ—à—å —á—Ç–æ? –í—á–µ—Ä–∞ –±–µ–∑ —Ç–≤–æ–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ —è —Ç–∞–∫ –∑–∞—Å–∫—É—á–∞–ª, —á—Ç–æ –Ω–∞—á–∞–ª —É—á–∏—Ç—å—Å—è',
  '–Ø –≤—á–µ—Ä–∞ —Ç–∞–∫ –¥–æ–ª–≥–æ –∂–¥–∞–ª —Ç–≤–æ–π –æ—Ç–≤–µ—Ç, —á—Ç–æ —É—Å–ø–µ–ª –Ω–∞–ø–∏—Å–∞—Ç—å –∞–≤—Ç–æ–±–∏–æ–≥—Ä–∞—Ñ–∏—é',
  '—è —Ç–∞–∫ –∑–∞—Å–∫—É—á–∞–ª',
  '—è —É—Å–ø–µ–ª –Ω–∞–ø–∏—Å–∞—Ç—å',
  '–í—á–µ—Ä–∞ —Ç—ã –º–æ–ª—á–∞–ª, –∏ —è –æ—Ç –Ω–µ—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª –∑–∞–±–∞—Å—Ç–æ–≤–∫—É'
];
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
```
‚úÖ "–ó–Ω–∞–µ—à—å —á—Ç–æ? –í—á–µ—Ä–∞ –±–µ–∑ —Ç–≤–æ–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ —è —Ç–∞–∫ –∑–∞—Å–∫—É—á–∞–ª, —á—Ç–æ –Ω–∞—á–∞–ª —É—á–∏—Ç—å—Å—è"
‚úÖ "–Ø –≤—á–µ—Ä–∞ —Ç–∞–∫ –¥–æ–ª–≥–æ –∂–¥–∞–ª —Ç–≤–æ–π –æ—Ç–≤–µ—Ç, —á—Ç–æ —É—Å–ø–µ–ª –Ω–∞–ø–∏—Å–∞—Ç—å –∞–≤—Ç–æ–±–∏–æ–≥—Ä–∞—Ñ–∏—é"
‚úÖ "—è —Ç–∞–∫ –∑–∞—Å–∫—É—á–∞–ª"
‚úÖ "—è —É—Å–ø–µ–ª –Ω–∞–ø–∏—Å–∞—Ç—å"
‚úÖ "–í—á–µ—Ä–∞ —Ç—ã –º–æ–ª—á–∞–ª, –∏ —è –æ—Ç –Ω–µ—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª –∑–∞–±–∞—Å—Ç–æ–≤–∫—É"
   ‚Üí "–í—á–µ—Ä–∞ —Ç—ã –º–æ–ª—á–∞–ª–∞, –∏ —è –æ—Ç –Ω–µ—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª –∑–∞–±–∞—Å—Ç–æ–≤–∫—É" (–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
```

### `test-isfrog.ts`
–¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–∞–º—É —Ñ—É–Ω–∫—Ü–∏—é `isFrogSpeaking()`:

```
=== –¢–ï–°–¢ 1: "–Ω–∞—á–∞–ª" ===
–¢–µ–∫—Å—Ç: "—è —Ç–∞–∫ –∑–∞—Å–∫—É—á–∞–ª, —á—Ç–æ –Ω–∞—á–∞–ª —É—á–∏—Ç—å—Å—è"
‚Üí –ù–∞–π–¥–µ–Ω–æ "—è" - –ª—è–≥—É—à–∫–∞ –≥–æ–≤–æ—Ä–∏—Ç!
–†–µ–∑—É–ª—å—Ç–∞—Ç: true ‚úÖ

=== –¢–ï–°–¢ 2: "—É—Å–ø–µ–ª" ===
–¢–µ–∫—Å—Ç: "–Ø –≤—á–µ—Ä–∞ —Ç–∞–∫ –¥–æ–ª–≥–æ –∂–¥–∞–ª —Ç–≤–æ–π –æ—Ç–≤–µ—Ç, —á—Ç–æ —É—Å–ø–µ–ª –Ω–∞–ø–∏—Å–∞—Ç—å"
‚Üí –ù–∞–π–¥–µ–Ω–æ "—è" - –ª—è–≥—É—à–∫–∞ –≥–æ–≤–æ—Ä–∏—Ç!
–†–µ–∑—É–ª—å—Ç–∞—Ç: true ‚úÖ
```

## –°—Ç–∞—Ç—É—Å

‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û**

–í—Å–µ —Ç–µ—Å—Ç—ã –≤ `test-gender-adaptation-full.ts` –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ:
- ‚úÖ –õ—è–≥—É—à–∫–∞ –í–°–ï–ì–î–ê –æ—Å—Ç–∞–µ—Ç—Å—è –º—É–∂—Å–∫–æ–≥–æ —Ä–æ–¥–∞
- ‚úÖ –û–±—Ä–∞—â–µ–Ω–∏—è –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –°–º–µ—à–∞–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã ("—Ç—ã" + "—è") –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## –í–∞–∂–Ω–æ –¥–ª—è –±—É–¥—É—â–µ–≥–æ

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö regex –ø—Ä–∞–≤–∏–ª –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –≥–ª–∞–≥–æ–ª–æ–≤ –ë–ï–ó "—Ç—ã":
1. **–í–°–ï–ì–î–ê** –¥–æ–±–∞–≤–ª—è–π –ø—Ä–æ–≤–µ—Ä–∫—É `if (isFrogSpeaking(fullText, offset)) return match;`
2. –ü—Ä–æ–≤–µ—Ä—è–π —Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞ "—è —Ç–∞–∫ [–≥–ª–∞–≥–æ–ª]", "—è –æ—Ç –Ω–µ—á–µ–≥–æ –¥–µ–ª–∞—Ç—å [–≥–ª–∞–≥–æ–ª]"
3. –¢–µ—Å—Ç–∏—Ä—É–π —Å–º–µ—à–∞–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã —Å "—Ç—ã" –∏ "—è" –≤ –æ–¥–Ω–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏

**–ü—Ä–∞–≤–∏–ª–æ:** –ï—Å–ª–∏ –ø—Ä–∞–≤–∏–ª–æ –º–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –≥–ª–∞–≥–æ–ª –±–µ–∑ —è–≤–Ω–æ–≥–æ "—Ç—ã" –ø–µ—Ä–µ–¥ –Ω–∏–º - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–±–∞–≤—å –ø—Ä–æ–≤–µ—Ä–∫—É `isFrogSpeaking()`!
