# Ручное тестирование режимов доставки

## Тестовые пользователи:

1. **476561547** (целевой пользователь #1):
   - `dm_enabled=1, channel_enabled=1`
   - Ожидается: посты в канал + копия в ЛС

2. **5153477378** (целевой пользователь #2):
   - `dm_enabled=1, channel_enabled=1`
   - Ожидается: посты в канал + копия в ЛС

3. **999888777** (тестовый пользователь):
   - `dm_enabled=1, channel_enabled=0`
   - Ожидается: посты только в ЛС

## План тестирования:

### 1. Вечерний пост (sendInteractiveDailyMessage)

**Тестовая команда:** Создать в `src/commands/admin/test_evening.ts`

```bash
# Для пользователя с channel+dm
bun src/test-evening.ts 476561547

# Для пользователя только с dm
bun src/test-evening.ts 999888777
```

**Ожидаемый результат:**
- 476561547: пост в канале + идентичная копия в ЛС
- 999888777: пост только в ЛС

---

### 2. Утренний пост (sendMorningMessage)

**Тестовая команда:** `/test_morning` (уже существует)

**Изменить команду чтобы можно было указать userId:**

```bash
/test_morning 476561547  # channel + dm
/test_morning 999888777  # только dm
```

**Ожидаемый результат:**
- 476561547: пост в канале + копия в ЛС
- 999888777: пост только в ЛС

---

### 3. Злой пост (sendAngryPost / morning check)

**Тестовая команда:** Используем существующую `/test_morning_check`

**Подготовка:**
1. Убедиться что пользователь НЕ ответил на вчерашний пост
2. Запустить `/test_morning_check`

**Ожидаемый результат:**
- 476561547: злой пост в канале + копия в ЛС
- 999888777: злой пост только в ЛС

---

### 4. JOY пост (sendJoyPostWithWeeklySummary)

**Тестовая команда:** Создать тестовую команду `/test_joy <userId>`

```bash
/test_joy 476561547  # channel + dm
/test_joy 999888777  # только dm
```

**Ожидаемый результат:**
- 476561547: JOY пост в канале + копия в ЛС + интерактивные сообщения в комментариях
- 999888777: JOY пост в ЛС + интерактивные сообщения в ЛС

---

## Чеклист для каждого теста:

- [ ] Пост отправлен в правильный чат (канал vs ЛС)
- [ ] Копия отправлена в ЛС (если оба флага enabled)
- [ ] Текст поста корректный
- [ ] Картинка прикреплена
- [ ] Интерактивные элементы работают (кнопки, комментарии)
- [ ] Нет ошибок в логах

---

## Запуск ручного теста:

```bash
# 1. Запустить бот локально
bun src/bot.ts

# 2. В Telegram отправить тестовые команды
/test_evening
/test_morning
/test_morning_check
/test_joy

# 3. Проверить результаты в канале и ЛС
```
