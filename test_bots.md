# Тестирование ботов

## Ожидаемое поведение

### Тестовый бот (IS_TEST_BOT=true)
- ✅ Работает ТОЛЬКО в тестовом канале (-1002846400650) и тестовой группе (-1002798126153)
- ✅ Отвечает на все команды в личных сообщениях
- ✅ Игнорирует все сообщения и кнопки в основном канале
- ✅ Обрабатывает интерактивные задания в тестовом канале
- ✅ Запускает автоматическое расписание (22:00 МСК)

### Основной бот (IS_TEST_BOT=false или не установлено)
- ✅ Работает во ВСЕХ каналах КРОМЕ тестовых
- ✅ Отвечает на все команды в личных сообщениях
- ✅ Игнорирует все сообщения и кнопки в тестовых каналах
- ✅ Обрабатывает интерактивные задания в основном канале
- ✅ Запускает автоматическое расписание (22:00 МСК)

## Тестовые сценарии

### 1. Команды в личных сообщениях
Оба бота должны отвечать на:
- `/start` - регистрация пользователя
- `/test` - отправка тестового сообщения
- `/ping` - проверка работы бота
- `/status` - статус планировщика (только админ)

### 2. Сообщения в каналах
**В тестовом канале:**
- Тестовый бот: отвечает на сообщения, обрабатывает кнопки
- Основной бот: игнорирует всё

**В основном канале:**
- Тестовый бот: игнорирует всё  
- Основной бот: отвечает на сообщения, обрабатывает кнопки

### 3. Интерактивные задания
При отправке поста с заданиями:
- Кнопка "Все ок - пропустить" должна работать
- Ответы пользователей должны обрабатываться
- Кнопка "Сделал" после практики должна ставить трофей
- Кнопки должны работать в любое время (даже через несколько дней)

## Логи для проверки

При правильной настройке в логах должны быть сообщения:
- `"Тестовый бот игнорирует обновление не из тестового канала"` - когда тестовый бот получает сообщение из основного канала
- `"Основной бот игнорирует обновление из тестового канала"` - когда основной бот получает сообщение из тестового канала

## ID каналов и групп

**Тестовые:**
- Канал: -1002846400650
- Группа: -1002798126153

**Основные:**
- Канал: из CHANNEL_ID в .env (по умолчанию -1002405993986)
- Группа: из CHAT_ID в .env